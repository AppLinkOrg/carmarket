(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{cdIW:function(l,n,e){"use strict";e.r(n);var u=e("CcnG"),t=function(){return function(){}}(),o=e("pMnS"),i=e("oBZk"),c=e("ZZ/e"),a=e("Ip0R"),d=e("0LV4"),r=e("sE5F"),s=e("oseM"),f=e("NbZn"),g=e("mrSG"),m=e("4wrl"),p=e("Lzga"),h=function(l){function n(n,e,u,t,o,i,c,a,d,r,s,f,g){var m=l.call(this,n,e,u,t,o,i)||this;return m.router=n,m.navCtrl=e,m.modalCtrl=u,m.toastCtrl=t,m.alertCtrl=o,m.activeRoute=i,m.sanitizer=c,m.phoneapi=a,m.memberApi=d,m.deviceApi=r,m.loadingCtrl=s,m.network=f,m.ngzone=g,m.statusnum=-1,m.kelustatus=[],m.cuterror="",m.modelinfo=null,m.daoyalist=[],m.checks="",m.account=null,m.modelname="",m.online=!1,m.device=null,m.headerscroptshow=480,m}return g.__extends(n,l),n.prototype.onMyLoad=function(){var l=this;this.modelname=this.params.modelname,this.phoneapi.modelinfo({id:this.params.id}).then((function(n){l.modelinfo=n,console.log(l.modelinfo,"\u5feb\u5feb\u5feb")})),this.phoneapi.daoyalist({}).then((function(n){l.daoyalist=n,console.log(l.daoyalist,"\u6162\u6162\u6162")}))},n.prototype.onMyShow=function(){var l=this;console.log(this.kelustatus,"\u770b\u4e86\u770b"),this.memberApi.accountinfo({id:this.user_id}).then((function(n){l.deviceApi.info({deviceno:n.device_deviceno}).then((function(n){l.device=n})),l.sendTCP(n.device_deviceno,"SYNCSTATUS","",(function(e){var u=e.split("|");l.online="OK"==u[0],l.ngzone.run((function(){})),setTimeout((function(){l.deviceApi.info({deviceno:n.device_deviceno}).then((function(n){l.device=n,l.ngzone.run((function(){}))}))}),1e3)}))}))},n.prototype.addcommon=function(l){var n=this;this.memberApi.addcommon({account_id:this.memberInfo.id,model_id:l,status:"A"}).then((function(l){console.log(l,"5555"),0!=l.code?n.nobackshowAlert(n.lang.ycz):n.toast(n.lang.tianjiaok)}))},n.prototype.check=function(l){console.log(l,"\u9009\u62e9"),this.checks=l},n.prototype.cut=function(l,n,e,u,t){var o=this;0==n||0==e?this.showConfirm(this.lang.settishi,(function(l){0==l?console.log("\u5931\u8d25"):(console.log("\u6210\u529f"),o.navigate("setting"))})):this.showConfirm(this.lang.querenqiege,(function(i){if(0==i)console.log("\u5931\u8d25");else{if(console.log("\u6210\u529f"),u<=0&&"Y"!=t)return void o.showConfirm(o.lang.csbzqcz,(function(l){0==l?console.log("\u53d6\u6d88"):o.navigate("recharge")}));console.log("aaa"),o.cutreal(n,e),o.kelustatus=[o.lang.jianchazaixian,o.lang.jianchakelu,o.lang.setdaosu,o.lang.setdaoya,o.lang.fsklwj,o.lang.ok],o.memberApi.consumecount({account_id:o.memberInfo.id,model_id:o.params.id,cutclassify_id:l,vip:t}).then((function(l){}))}}))},n.prototype.backagain=function(){this.navCtrl.navigateBack("tabs/tab2")},n.prototype.closetips=function(){this.statusnum=-1,this.sendTCP(this.account.device_deviceno,"SYNCSTATUS","",(function(){}))},n.prototype.cutreal=function(l,n){return g.__awaiter(this,void 0,void 0,(function(){var e=this;return g.__generator(this,(function(u){return this.statusnum=0,this.memberApi.accountinfo({id:this.user_id}).then((function(u){e.deviceApi.info({deviceno:u.device_deviceno}).then((function(l){e.device=l})),e.statusnum=1,e.ngzone.run((function(){})),setTimeout((function(){e.deviceApi.info({deviceno:u.device_deviceno}).then((function(t){console.log(),0==t.machinestatus?(e.statusnum=2,e.ngzone.run((function(){})),setTimeout((function(){e.sendTCP(u.device_deviceno,"SPEED",n,(function(n){"OK"==n.split("|")[0]?(e.statusnum=3,e.ngzone.run((function(){})),setTimeout((function(){e.sendTCP(u.device_deviceno,"PRESSURE",l,(function(l){"OK"==l.split("|")[0]?(e.statusnum=4,e.ngzone.run((function(){})),setTimeout((function(){e.sendTCP(u.device_deviceno,"WRITE",e.params.id,(function(l){"OK"==l.split("|")[0]?(e.statusnum=5,e.ngzone.run((function(){})),e.toast(e.lang.cutting)):(e.cuterror=e.lang.keluchucuo+"\uff1a"+l,e.ngzone.run((function(){})))}))}),500)):(e.cuterror=e.lang.setdaoyacuo+l,e.ngzone.run((function(){})))}))}),500)):(e.cuterror=e.lang.setdaosucuo+n,e.ngzone.run((function(){})))}))}),500)):(e.cuterror=t.machinestatus_name,e.ngzone.run((function(){})))}))}),2e3)})),[2]}))}))},n.prototype.checkdevice=function(l,n){l>=n.length&&(this.cuterror=this.lang.noshebei)},n}(m.a),v=e("ZYCi"),b=e("ZYjt"),w=u["\u0275crt"]({encapsulation:0,styles:[[".bgback[_ngcontent-%COMP%]{--background:linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, rgba(66, 63, 63) 100%)!important}.mid_block[_ngcontent-%COMP%]{width:100%}.infoimg[_ngcontent-%COMP%]{width:92.2705314vw;height:92.2705314vw}.bottom_block[_ngcontent-%COMP%]{border-top-left-radius:2.41545894vw;border-top-right-radius:2.41545894vw;margin-top:-2.41545894vw;background:#fff}.daoya[_ngcontent-%COMP%]{width:28.01932367vw;height:8.69565217vw;line-height:8.69565217vw;border-radius:4.34782609vw}.blockstyle[_ngcontent-%COMP%]{background:#2c77e5;color:#fff}.border[_ngcontent-%COMP%]{border:.24154589vw solid #f0f0f0}.txt[_ngcontent-%COMP%]{white-space:pre-wrap;opacity:.8;padding:2.41545894vw 3.62318841vw 3.62318841vw}.btn[_ngcontent-%COMP%]{width:42.02898551vw;height:11.5942029vw;line-height:11.5942029vw;border-radius:7.48792271vw}.popupbg[_ngcontent-%COMP%]{position:fixed;width:calc(100%);height:calc(100%);background:rgba(0,0,0,.6);top:0;left:0}.leftspace[_ngcontent-%COMP%]{width:7.24637681vw;height:calc(100%)}.midespace[_ngcontent-%COMP%]{background:#fff;border-radius:2.41545894vw}.takebuttons[_ngcontent-%COMP%]{position:fixed;width:100vw;bottom:0;height:24.15458937vw;background:#fff}"]],data:{}});function k(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"div",[["class","btn text-center txt-white bg-gray h7_5 txt-bold"]],null,null,null,null,null)),(l()(),u["\u0275ted"](1,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.lang.weibangdin)}))}function C(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"div",[["class","btn text-center txt-white bg-gray h7_5 txt-bold"]],null,null,null,null,null)),(l()(),u["\u0275ted"](1,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.lang.lixian)}))}function x(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"div",[["class","btn text-center txt-white bg-blue h7_5 txt-bold"]],null,[[null,"click"]],(function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.cut(t.modelinfo.cutclassify_id,t.memberInfo.daoya,t.memberInfo.sudu,t.memberInfo.cutcount,t.memberInfo.vip_value)&&u),u}),null,null)),(l()(),u["\u0275ted"](1,null,[" ",""]))],null,(function(l,n){l(n,1,0,n.component.lang.lijiqiemo)}))}function _(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,45,"div",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,3,"div",[["class","mid_block flex-row flex-column"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,1,"ion-img",[["class","infoimg margin-top-10 margin-bottom-20"]],null,null,null,i.z,i.g)),u["\u0275did"](3,49152,null,0,c.C,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],{src:[0,"src"]},null),(l()(),u["\u0275eld"](4,0,null,null,0,"div",[["class","height-10"]],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,7,"div",[["class","bottom_block padding-15  "]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,6,"div",[["class","flex-row flex-center"]],null,null,null,null,null)),(l()(),u["\u0275eld"](7,0,null,null,0,"img",[["class","icon-12"]],[[8,"src",4]],null,null,null,null)),(l()(),u["\u0275eld"](8,0,null,null,1,"div",[["class","h7_5 margin-left-10 flex-1 txt-bold"]],null,null,null,null,null)),(l()(),u["\u0275ted"](9,null,["",""])),(l()(),u["\u0275eld"](10,0,null,null,0,"img",[["class","icon-10"]],[[8,"src",4]],null,null,null,null)),(l()(),u["\u0275eld"](11,0,null,null,1,"div",[["class","h8 margin-left-10"]],null,[[null,"click"]],(function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.addcommon(t.modelinfo.id)&&u),u}),null,null)),(l()(),u["\u0275ted"](12,null,["",""])),(l()(),u["\u0275eld"](13,0,null,null,11,"div",[["class","flex-row flex-center "]],null,null,null,null,null)),(l()(),u["\u0275eld"](14,0,null,null,0,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),u["\u0275eld"](15,0,null,null,1,"div",[["class","h7_5"]],null,null,null,null,null)),(l()(),u["\u0275ted"](16,null,["",""])),(l()(),u["\u0275eld"](17,0,null,null,1,"div",[["class","  h8  "]],null,null,null,null,null)),(l()(),u["\u0275ted"](18,null,["",""])),(l()(),u["\u0275eld"](19,0,null,null,0,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),u["\u0275eld"](20,0,null,null,1,"div",[["class","h7_5"]],null,null,null,null,null)),(l()(),u["\u0275ted"](21,null,["",""])),(l()(),u["\u0275eld"](22,0,null,null,1,"div",[["class","  h8 "]],null,null,null,null,null)),(l()(),u["\u0275ted"](23,null,["",""])),(l()(),u["\u0275eld"](24,0,null,null,0,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),u["\u0275eld"](25,0,null,null,3,"div",[["class","flex-row flex-center padding-15 margin-top-10"]],null,null,null,null,null)),(l()(),u["\u0275eld"](26,0,null,null,0,"img",[["class","icon-12"]],[[8,"src",4]],null,null,null,null)),(l()(),u["\u0275eld"](27,0,null,null,1,"div",[["class","h7_5 margin-left-10   txt-bold"]],null,null,null,null,null)),(l()(),u["\u0275ted"](28,null,["",""])),(l()(),u["\u0275eld"](29,0,null,null,1,"div",[["class","txt h8"]],null,null,null,null,null)),(l()(),u["\u0275ted"](30,null,["",""])),(l()(),u["\u0275eld"](31,0,null,null,0,"div",[["class","height-100"]],null,null,null,null,null)),(l()(),u["\u0275eld"](32,0,null,null,13,"div",[["class","takebuttons"]],null,null,null,null,null)),(l()(),u["\u0275eld"](33,0,null,null,0,"div",[["class","height-20"]],null,null,null,null,null)),(l()(),u["\u0275eld"](34,0,null,null,11,"div",[["class","flex-row flex-center "]],null,null,null,null,null)),(l()(),u["\u0275eld"](35,0,null,null,0,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),u["\u0275eld"](36,0,null,null,1,"div",[["class","btn text-center borders h7_5 txt-bold"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.backagain()&&u),u}),null,null)),(l()(),u["\u0275ted"](37,null,["",""])),(l()(),u["\u0275eld"](38,0,null,null,0,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,k)),u["\u0275did"](40,16384,null,0,a.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,C)),u["\u0275did"](42,16384,null,0,a.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,x)),u["\u0275did"](44,16384,null,0,a.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](45,0,null,null,0,"div",[["class","flex-1"]],null,null,null,null,null))],(function(l,n){var e=n.component;l(n,3,0,u["\u0275inlineInterpolate"](2,"",e.uploadpath,"model/",e.modelinfo.cutimg,"")),l(n,40,0,null==e.device),l(n,42,0,null!=e.device&&0==e.online),l(n,44,0,null!=e.device&&1==e.online)}),(function(l,n){var e=n.component;l(n,7,0,u["\u0275inlineInterpolate"](1,"",e.assets,"res/qiemo.png")),l(n,9,0,e.lang.canshu),l(n,10,0,u["\u0275inlineInterpolate"](1,"",e.assets,"res/add.png")),l(n,12,0,e.lang.tianjiachangyon),l(n,16,0,e.lang.daoya),l(n,18,0,e.memberInfo.daoya),l(n,21,0,e.lang.sudu),l(n,23,0,e.memberInfo.sudu),l(n,26,0,u["\u0275inlineInterpolate"](1,"",e.assets,"res/printing.png")),l(n,28,0,e.lang.shuoming),l(n,30,0,e.modelinfo.cy_explain),l(n,37,0,e.lang.back)}))}function R(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"ion-button",[["expand","block"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closetips()&&u),u}),i.u,i.b)),u["\u0275did"](1,49152,null,0,c.j,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],{expand:[0,"expand"]},null),(l()(),u["\u0275ted"](2,0,["",""]))],(function(l,n){l(n,1,0,"block")}),(function(l,n){l(n,2,0,n.component.lang.close)}))}function I(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,14,"div",[["class","popupbg flex-row flex-center "]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,0,"div",[["class","leftspace"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,11,"div",[["class","midespace padding-20 flex-1"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,1,"div",[["class","text-center"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closetips()&&u),u}),null,null)),(l()(),u["\u0275ted"](4,null,[""," ","/",""])),(l()(),u["\u0275eld"](5,0,null,null,1,"ion-progress-bar",[],null,null,null,i.C,i.j)),u["\u0275did"](6,49152,null,0,c.Y,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],{value:[0,"value"]},null),(l()(),u["\u0275eld"](7,0,null,null,1,"div",[["class","h7 txt-gray"]],null,null,null,null,null)),(l()(),u["\u0275ted"](8,null,["",""])),(l()(),u["\u0275eld"](9,0,null,null,1,"div",[["class","h7 txt-gray"]],null,null,null,null,null)),(l()(),u["\u0275ted"](10,null,["",""])),(l()(),u["\u0275eld"](11,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,R)),u["\u0275did"](13,16384,null,0,a.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](14,0,null,null,0,"div",[["class","leftspace"]],null,null,null,null,null))],(function(l,n){var e=n.component;l(n,6,0,(e.statusnum+1)/e.kelustatus.length),l(n,13,0,""!=e.cuterror||e.statusnum+1==e.kelustatus.length)}),(function(l,n){var e=n.component;l(n,4,0,e.lang.chulizhong,e.statusnum+1,e.kelustatus.length),l(n,8,0,e.kelustatus[e.statusnum]),l(n,10,0,e.cuterror)}))}function y(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,8,"ion-header",[],null,null,null,i.x,i.e)),u["\u0275did"](1,49152,null,0,c.A,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],null,null),(l()(),u["\u0275eld"](2,0,null,0,6,"ion-toolbar",[],null,null,null,i.L,i.s)),u["\u0275did"](3,49152,null,0,c.Bb,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],null,null),(l()(),u["\u0275eld"](4,0,null,0,4,"div",[["class","border-bot   "]],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,0,"img",[["class","icon-back margin-left-20"]],[[8,"src",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.back()&&u),u}),null,null)),(l()(),u["\u0275eld"](6,0,null,null,2,"ion-title",[],null,null,null,i.J,i.q)),u["\u0275did"](7,49152,null,0,c.zb,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],null,null),(l()(),u["\u0275ted"](8,0,["",""])),(l()(),u["\u0275eld"](9,0,null,null,9,"ion-content",[],null,null,null,i.w,i.d)),u["\u0275did"](10,49152,null,0,c.t,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],null,null),(l()(),u["\u0275eld"](11,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(l,n,e){var u=!0;return"ionRefresh"===n&&(u=!1!==l.component.doRefresh(e)&&u),u}),i.E,i.k)),u["\u0275did"](12,49152,null,0,c.cb,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],null,null),(l()(),u["\u0275eld"](13,0,null,0,1,"ion-refresher-content",[["pullingIcon","arrow-dropdown"],["refreshingSpinner","circles"]],null,null,null,i.D,i.l)),u["\u0275did"](14,49152,null,0,c.db,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],{pullingIcon:[0,"pullingIcon"],pullingText:[1,"pullingText"],refreshingSpinner:[2,"refreshingSpinner"],refreshingText:[3,"refreshingText"]},null),(l()(),u["\u0275and"](16777216,null,0,1,null,_)),u["\u0275did"](16,16384,null,0,a.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,0,1,null,I)),u["\u0275did"](18,16384,null,0,a.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,14,0,"arrow-dropdown",u["\u0275inlineInterpolate"](1,"",e.lang.sxzt,""),"circles",u["\u0275inlineInterpolate"](1,"",e.lang.sxz,"")),l(n,16,0,null!=e.modelinfo),l(n,18,0,e.statusnum>=0)}),(function(l,n){var e=n.component;l(n,5,0,u["\u0275inlineInterpolate"](1,"",e.assets,"res/back.png")),l(n,8,0,e.modelname)}))}function z(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,4,"app-cutdetails",[],null,null,null,y,w)),u["\u0275prd"](512,null,d.a,d.a,[r.e]),u["\u0275prd"](512,null,s.a,s.a,[r.e]),u["\u0275prd"](512,null,f.a,f.a,[r.e]),u["\u0275did"](4,245760,null,0,h,[v.m,c.Hb,c.Gb,c.Mb,c.a,v.a,b.b,d.a,s.a,f.a,c.Fb,p.a,u.NgZone],null,null)],(function(l,n){l(n,4,0)}),null)}var T=u["\u0275ccf"]("app-cutdetails",h,z,{},{},[]),N=e("gIcY"),M=function(){return function(){}}();e.d(n,"CutdetailsPageModuleNgFactory",(function(){return P}));var P=u["\u0275cmf"](t,[],(function(l){return u["\u0275mod"]([u["\u0275mpd"](512,u.ComponentFactoryResolver,u["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,T]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["\u0275mpd"](4608,a.NgLocalization,a.NgLocaleLocalization,[u.LOCALE_ID,[2,a["\u0275angular_packages_common_common_a"]]]),u["\u0275mpd"](4608,N.i,N.i,[]),u["\u0275mpd"](4608,c.b,c.b,[u.NgZone,u.ApplicationRef]),u["\u0275mpd"](4608,c.Gb,c.Gb,[c.b,u.ComponentFactoryResolver,u.Injector]),u["\u0275mpd"](4608,c.Kb,c.Kb,[c.b,u.ComponentFactoryResolver,u.Injector]),u["\u0275mpd"](1073742336,a.CommonModule,a.CommonModule,[]),u["\u0275mpd"](1073742336,N.h,N.h,[]),u["\u0275mpd"](1073742336,N.c,N.c,[]),u["\u0275mpd"](1073742336,c.Db,c.Db,[]),u["\u0275mpd"](1073742336,v.n,v.n,[[2,v.s],[2,v.m]]),u["\u0275mpd"](1073742336,M,M,[]),u["\u0275mpd"](1073742336,t,t,[]),u["\u0275mpd"](1024,v.k,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);